<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#D4AF37">
    <title>SNEHA SAURABHA 2025-26 Registration</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/main.css">
    <!-- Libraries for PDF and Image download -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <!-- Cashfree Payment Gateway SDK -->
    <script src="https://sdk.cashfree.com/js/v3/cashfree.js"></script>
    <script src="config/cashfree-config.js"></script>
    <script src="scripts/cashfree-service.js"></script>
</head>
<body>
    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/919980557785" target="_blank" class="whatsapp-float" aria-label="Contact us on WhatsApp">
        <svg viewBox="0 0 32 32" class="whatsapp-icon">
            <path fill="currentColor" d="M16 0c-8.837 0-16 7.163-16 16 0 2.825 0.737 5.607 2.137 8.048l-2.137 7.952 7.933-2.127c2.42 1.37 5.173 2.127 8.067 2.127 8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 29.467c-2.482 0-4.908-0.646-7.07-1.87l-0.507-0.292-4.713 1.262 1.262-4.669-0.292-0.508c-1.207-2.100-1.847-4.507-1.847-6.924 0-7.435 6.050-13.485 13.485-13.485s13.485 6.050 13.485 13.485c0 7.435-6.050 13.485-13.485 13.485zM21.947 18.773c-0.326-0.163-1.93-0.952-2.23-1.060s-0.517-0.163-0.735 0.163c-0.218 0.326-0.844 1.060-1.034 1.278s-0.381 0.244-0.707 0.081c-0.326-0.163-1.376-0.507-2.62-1.617-0.968-0.864-1.621-1.930-1.811-2.256s-0.020-0.502 0.143-0.665c0.147-0.147 0.326-0.381 0.489-0.572s0.218-0.326 0.326-0.544c0.108-0.218 0.054-0.408-0.027-0.572s-0.735-1.771-1.008-2.423c-0.265-0.635-0.534-0.548-0.735-0.558-0.190-0.009-0.408-0.011-0.626-0.011s-0.572 0.081-0.871 0.408c-0.299 0.326-1.141 1.116-1.141 2.721s1.169 3.156 1.332 3.374c0.163 0.218 2.301 3.515 5.576 4.929 0.779 0.336 1.387 0.537 1.861 0.687 0.783 0.249 1.496 0.214 2.060 0.130 0.628-0.094 1.930-0.789 2.202-1.549s0.272-1.413 0.190-1.549c-0.081-0.136-0.299-0.218-0.626-0.381z"/>
        </svg>
    </a>

    <!-- Screen 1: Home Page -->
    <div id="screen-banner" class="screen active">
        <div class="banner-content">
            <!-- Two horizontal images -->
            <div class="header-images">
                <img src="images/header-left.jpg" alt="Rotary District 3181" class="header-img">
                <img src="images/header-right.jpg" alt="Sneha Sourabha" class="header-img">
            </div>
            
            <!-- Main Event Info -->
            <div class="event-info">
                <h2 class="subtitle">ROTARY DISTRICT CONFERENCE</h2>
                <h1 class="main-title">SNEHA SAURABHA</h1>
                <p class="slogan">Join the district's grand celebration ‚Äî be part of the legacy.</p>
                
                <button class="btn-register" onclick="showScreen('screen-register-type')">Register Now</button>
                
                <!-- Event Card -->
                <div class="event-card">
                    <div class="event-detail">
                        <div class="detail-icon" style="font-size: 32px;">
                            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="3" y="4" width="18" height="18" rx="2" stroke="#D4AF37" stroke-width="2" fill="#FFF9E6"/>
                                <line x1="3" y1="9" x2="21" y2="9" stroke="#D4AF37" stroke-width="2"/>
                                <line x1="8" y1="2" x2="8" y2="6" stroke="#D4AF37" stroke-width="2" stroke-linecap="round"/>
                                <line x1="16" y1="2" x2="16" y2="6" stroke="#D4AF37" stroke-width="2" stroke-linecap="round"/>
                                <text x="12" y="17" font-size="8" font-weight="bold" fill="#D4AF37" text-anchor="middle">JAN</text>
                                <text x="12" y="14" font-size="3" fill="#8B7355" text-anchor="middle">30-31</text>
                            </svg>
                        </div>
                        <div class="detail-info">
                            <strong>Dates</strong>
                            <p>30‚Äì31 Jan & 1 Feb 2026</p>
                        </div>
                    </div>
                    <div class="event-detail">
                        <div class="detail-icon">üìç</div>
                        <div class="detail-info">
                            <strong>Venue</strong>
                            <p><a href="https://maps.google.com/?q=Silent+Shores+Mysore" target="_blank" class="venue-link">Silent Shores, Mysore</a></p>
                        </div>
                    </div>
                </div>
                
                <!-- Policy Links -->
                <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(212, 160, 36, 0.3); order: 6;">
                    <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; font-size: 13px;">
                        <a href="terms-and-conditions.html" style="color: #D4A024; text-decoration: none;">Terms & Conditions</a>
                        <span style="color: #999;">‚Ä¢</span>
                        <a href="refund-policy.html" style="color: #D4A024; text-decoration: none;">Refund Policy</a>
                        <span style="color: #999;">‚Ä¢</span>
                        <a href="contact.html" style="color: #D4A024; text-decoration: none;">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 2: Registration Type Selection -->
    <div id="screen-register-type" class="screen">
        <div class="screen-content">
            <button class="btn-back" onclick="showScreen('screen-banner')">‚Üê Back to Home</button>
            <h2>Select Registration Type</h2>
            <div class="selection-group">
                <div class="selection-card" data-type="rotarian" data-price="4500">
                    <div class="card-name">Rotarian</div>
                    <div class="card-price">‚Çπ4,500</div>
                </div>
                <div class="selection-card" data-type="rotarian-spouse" data-price="7500">
                    <div class="card-name">Rotarian + Spouse</div>
                    <div class="card-price">‚Çπ7,500</div>
                </div>
                <div class="selection-card" data-type="ann" data-price="3500">
                    <div class="card-name">Ann</div>
                    <div class="card-price">‚Çπ3,500</div>
                </div>
                <div class="selection-card" data-type="annet" data-price="2500">
                    <div class="card-name">Rotaractor</div>
                    <div class="card-price">‚Çπ2,500</div>
                </div>
                <div class="selection-card" data-type="guest" data-price="4500">
                    <div class="card-name">Guest</div>
                    <div class="card-price">‚Çπ4,500</div>
                </div>
                <div class="selection-card" data-type="silver-donor" data-price="20000">
                    <div class="card-name">Silver Donor</div>
                    <div class="card-price">‚Çπ20,000</div>
                </div>
                <div class="selection-card" data-type="silver-sponsor" data-price="25000">
                    <div class="card-name">Silver Sponsor</div>
                    <div class="card-price">‚Çπ25,000</div>
                </div>
                <div class="selection-card" data-type="gold-sponsor" data-price="50000">
                    <div class="card-name">Gold Sponsor</div>
                    <div class="card-price">‚Çπ50,000</div>
                </div>
                <div class="selection-card" data-type="platinum-sponsor" data-price="75000">
                    <div class="card-name">Platinum Sponsor</div>
                    <div class="card-price">‚Çπ75,000</div>
                </div>
                <div class="selection-card" data-type="patron-sponsor" data-price="100000">
                    <div class="card-name">Patron Sponsor</div>
                    <div class="card-price">‚Çπ1,00,000</div>
                </div>
            </div>
            
            <!-- Description box - shows only when card is selected -->
            <div id="selection-description-box" class="description-box">
                <p id="selected-description"></p>
            </div>
            
            <button class="btn-primary" id="btn-continue-type" disabled onclick="showScreen('screen-personal-details')">Continue</button>
        </div>
    </div>

    <!-- Screen 3: Personal Details -->
    <div id="screen-personal-details" class="screen">
        <div class="screen-content">
            <button class="btn-back" onclick="showScreen('screen-register-type')">‚Üê Back</button>
            <h2>Your Details</h2>
            <form id="personal-form" class="compact-form">
                <div class="form-row">
                    <input type="text" id="full-name" required placeholder="Full Name">
                </div>
                <div class="form-row">
                    <input type="tel" id="mobile" required placeholder="Mobile Number" pattern="[0-9]{10}" maxlength="10">
                </div>
                <div class="form-row">
                    <input type="email" id="email" placeholder="Email Address (Optional)">
                </div>
                <div class="form-row club-dropdown-wrapper">
                    <input type="text" id="club-search" placeholder="Search and Select Club..." autocomplete="off">
                    <select id="club-name" required style="display: none;">
                        <option value="">Select Your Club</option>
                    </select>
                    <div id="club-options" class="club-options-list"></div>
                </div>
                <div class="form-row meal-row">
                    <div class="meal-label-compact">Meal Preference</div>
                    <div class="meal-buttons">
                        <button type="button" class="meal-btn-compact veg" data-meal="Veg">Veg</button>
                        <button type="button" class="meal-btn-compact non-veg" data-meal="Non-Veg">Non-Veg</button>
                    </div>
                </div>
                <div class="form-row" style="background: #f9f9f9; padding: 15px; border-radius: 8px; border: 2px solid var(--primary-gold); margin: 15px 0;">
                    <div style="font-size: 16px; font-weight: 600; color: var(--text-dark);">
                        Selected: <span id="selected-type-display"></span>
                    </div>
                    <div style="font-size: 20px; font-weight: 700; color: var(--primary-gold); margin-top: 5px;">
                        Amount: ‚Çπ<span id="selected-price-display"></span>
                    </div>
                </div>
                <button type="button" class="btn-primary" onclick="showReview()">Continue</button>
            </form>
        </div>
    </div>

    <!-- Screen 4: Review -->
    <div id="screen-review" class="screen">
        <div class="screen-content">
            <button class="btn-back" onclick="showScreen('screen-personal-details')">‚Üê Back</button>
            <h2>Review Details</h2>
            <div class="review-container">
                <div class="review-section">
                    <h3>Registration Type</h3>
                    <p id="review-type"></p>
                    <p class="review-price" id="review-price"></p>
                </div>
                <div class="review-section">
                    <h3>Personal Information</h3>
                    <p><strong>Name:</strong> <span id="review-name"></span></p>
                    <p><strong>Mobile:</strong> <span id="review-mobile"></span></p>
                    <p><strong>Email:</strong> <span id="review-email"></span></p>
                    <p><strong>Club:</strong> <span id="review-club"></span></p>
                    <p><strong>Meal Preference:</strong> <span id="review-meal"></span></p>
                </div>
            </div>
            <div style="display: flex; gap: 12px; flex-direction: column;">
                <button class="btn-primary" onclick="initiateCashfreePayment()" style="font-size: 18px; padding: 16px;">
                    üí≥ PAY NOW
                </button>
                <button class="btn-secondary" onclick="showScreen('screen-personal-details')" style="background: #666;">
                    ‚Üê Back to Edit
                </button>
            </div>
        </div>
    </div>

    <!-- Screen 5: Payment -->
    <div id="screen-payment" class="screen">
        <div class="screen-content">
            <h2>Payment</h2>
            <div class="payment-container">
                <div class="payment-summary">
                    <p class="payment-gateway-badge">
                        <svg style="height: 30px; vertical-align: middle;" viewBox="0 0 200 50" xmlns="http://www.w3.org/2000/svg">
                            <rect width="200" height="50" fill="#5C4EDB" rx="5"/>
                            <text x="100" y="32" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">Cashfree</text>
                        </svg>
                        <span style="margin-left: 8px;">Secure Payment Gateway</span>
                    </p>
                    <p>Registration Type: <span id="payment-type"></span></p>
                    <h3>Amount to Pay: <span id="payment-amount"></span></h3>
                </div>
                <div class="payment-info">
                    <p>‚úì 100% Safe & Secure</p>
                    <p>‚úì UPI, Cards, Wallets & Net Banking</p>
                    <p>‚úì Instant email & SMS confirmation</p>
                </div>
                <div class="payment-options">
                    <button class="payment-btn cashfree-btn" onclick="initiateCashfreePayment()">
                        <svg style="height: 24px; margin-right: 8px;" viewBox="0 0 200 50" xmlns="http://www.w3.org/2000/svg">
                            <rect width="200" height="50" fill="white" rx="5"/>
                            <text x="100" y="32" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#5C4EDB" text-anchor="middle">Cashfree</text>
                        </svg>
                        Pay with Cashfree
                    </button>
                    <button class="payment-btn payment-btn-secondary" onclick="showScreen('screen-review')">
                        ‚Üê Back to Review
                    </button>
                </div>
                <p class="payment-note">
                    <small>üîí Powered by Cashfree Payments | Secure & Fast</small>
                </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 6: Success Message -->
    <div id="screen-success" class="screen">
        <div class="screen-content" style="display: flex; align-items: center; justify-content: center; text-align: center; padding: 40px 20px;">
            <div class="success-message-container" style="max-width: 400px;">
                <div style="font-size: 80px; margin-bottom: 20px;">‚úÖ</div>
                <h1 style="color: var(--primary-gold); font-size: 32px; margin-bottom: 15px;">Registration Successful!</h1>
                <p style="font-size: 18px; color: var(--text-dark); margin-bottom: 20px; line-height: 1.6;">
                    Thank you for registering for <strong>SNEHA SAURABHA 2025-26</strong>
                </p>
                
                <div style="background: #f9f9f9; border-radius: 12px; padding: 20px; margin: 25px 0; border: 2px solid var(--primary-gold);">
                    <p style="font-size: 14px; color: var(--text-dark); margin-bottom: 10px;">Your Confirmation ID</p>
                    <p style="font-size: 28px; font-weight: 700; color: var(--primary-gold); letter-spacing: 2px;" id="confirmation-id-display"></p>
                </div>
                
                <div style="background: linear-gradient(135deg, var(--light-gold) 0%, var(--cream) 100%); border-radius: 12px; padding: 25px; margin: 25px 0;">
                    <p style="font-size: 16px; color: var(--text-dark); line-height: 1.8; margin: 0;">
                        üì± <strong>Confirmation details have been sent to your WhatsApp</strong><br><br>
                        You will receive your registration ticket and event details shortly.
                    </p>
                </div>
                
                <div style="margin-top: 30px;">
                    <p style="font-size: 15px; color: var(--text-dark); margin-bottom: 20px;">
                        üôè <strong>We look forward to seeing you at Mysore!</strong>
                    </p>
                    <p style="font-size: 13px; color: var(--text-light);">
                        üìÖ 30-31 Jan & 1 Feb 2026<br>
                        üìç Silent Shores Resort, Mysore
                    </p>
                </div>
                
                <button class="btn-primary" style="margin-top: 35px; width: 100%;" onclick="resetForm()">
                    Register Another Person
                </button>
            </div>
        </div>
    </div>
            </div>
            
            <button class="btn-primary" onclick="resetForm()" style="margin-top: 20px;">Register Another Person</button>
        </div>
    </div>

    <!-- Screen 7: Failure Acknowledgment -->
    <div id="screen-failure" class="screen">
        <div class="screen-content">
            <div class="acknowledgment">
                <div class="failure-icon">‚úï</div>
                <h2>Payment Failed</h2>
                <p>We couldn't process your payment.</p>
                <div class="failure-details">
                    <p>Please try again or contact support if the issue persists.</p>
                </div>
                <button class="btn-primary" onclick="showScreen('screen-payment')">Retry Payment</button>
                <button class="btn-secondary" onclick="resetForm()">Start Over</button>
            </div>
        </div>
    </div>

    <!-- Footer with Legal Links -->
    <footer style="background: #2c2c2c; color: #fff; padding: 30px 20px; margin-top: 50px; text-align: center;">
        <div style="max-width: 900px; margin: 0 auto;">
            <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-bottom: 20px;">
                <a href="terms-and-conditions.html" style="color: #D4A024; text-decoration: none;">Terms & Conditions</a>
                <span style="color: #666;">|</span>
                <a href="refund-policy.html" style="color: #D4A024; text-decoration: none;">Refund & Cancellation Policy</a>
                <span style="color: #666;">|</span>
                <a href="contact.html" style="color: #D4A024; text-decoration: none;">Contact Us</a>
            </div>
            <p style="margin: 10px 0; color: #999; font-size: 14px;">
                SNEHA-SAURABHA 2025-26 | Rotary District 3181<br>
                January 30-31 & February 1, 2026 | Silent Shores Resort, Mysore
            </p>
            <p style="margin: 10px 0; color: #777; font-size: 12px;">
                Email: snehasaurabha2526@gmail.com | Phone: +91 9902772262
            </p>
            <p style="margin: 10px 0; color: #666; font-size: 11px;">
                ¬© 2025 SNEHA SAURABHA 2025 26. All rights reserved.
            </p>
        </div>
    </footer>

    <script src="scripts/app.js"></script>
</body>
</html>
