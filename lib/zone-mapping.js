// Zone Mapping for Rotary District 3181 Clubs
// Based on ZONE_CLUB_DETAILS.md - Updated November 27, 2025
// Includes sub-zones (A, B, C) and club member counts

const ZONE_MAPPING = {
  // ZONE 1 - Robert Rego (4 clubs, 112 members total)
  'Mulky': 'Zone 1',
  'Bajpe': 'Zone 1',
  'Kinnigoli': 'Zone 1',
  'Moodbidri Mid Town': 'Zone 1',
  
  // ZONE 2A - Shantharam Shetty (5 clubs, 237 members total)
  'Baikampady': 'Zone 2A',
  'Mangalore Sunrise': 'Zone 2A',
  'Mangalore Central': 'Zone 2A',
  'Mangalore Port Town': 'Zone 2A',
  'Mangalore Coastal': 'Zone 2A',
  
  // ZONE 2B - Shantharam Shetty (4 clubs, 150 members total)
  'Surathkal': 'Zone 2B',
  'Mangalore East': 'Zone 2B',
  'Mangalore North': 'Zone 2B',
  'Mangalore Hill-Side': 'Zone 2B',
  
  // ZONE 3A - Ravishanakar Rao (4 clubs, 166 members total)
  'Mangalore Seaside': 'Zone 3A',
  'Mangalore Metro': 'Zone 3A',
  'Mangalore Midtown': 'Zone 3A',
  'Mangalore': 'Zone 3A',
  
  // ZONE 3B - Ravishanakar Rao (4 clubs, 132 members total)
  'Mangalore Down Town': 'Zone 3B',
  'Mangalore South': 'Zone 3B',
  'Mangalore City': 'Zone 3B',
  'Deralakatte': 'Zone 3B',
  
  // ZONE 4A - (4 clubs, 236 members total)
  'Moodabidri': 'Zone 4A',
  'Moodbidri Temple Town': 'Zone 4A',
  'Siddakatte Phalguni': 'Zone 4A',
  'Bantwal Loretto Hills': 'Zone 4A',
  
  // ZONE 4B - (4 clubs, 230 members total)
  'Bantwal Town': 'Zone 4B',
  'Belthangady': 'Zone 4B',
  'Bantwal': 'Zone 4B',
  'Madanthyar': 'Zone 4B',
  
  // ZONE 4C - (3 clubs, 71 members total)
  'Modankap': 'Zone 4C',
  'Farangipete': 'Zone 4C',
  'B C Road City': 'Zone 4C',
  
  // ZONE 4D - (3 clubs, 128 members total)
  'Puttur City': 'Zone 4D',
  'Vittal': 'Zone 4D',
  'Uppinangadi': 'Zone 4D',
  
  // ZONE 5A - Balakrishna Pai (4 clubs, 195 members total)
  'Puttur': 'Zone 5A',
  'Puttur Central': 'Zone 5A',
  'Subramanya': 'Zone 5A',
  'Kadaba Town': 'Zone 5A',
  
  // ZONE 5B - (4 clubs, 179 members total)
  'Puttur Yuva': 'Zone 5B',
  'Puttur-East': 'Zone 5B',
  'Puttur Swarna': 'Zone 5B',
  'Puttur Elite': 'Zone 5B',
  
  // ZONE 5C - (4 clubs, 175 members total)
  'Sullia City': 'Zone 5C',
  'Sullia': 'Zone 5C',
  'Bellare Town': 'Zone 5C',
  'Birumale Hills Puttur': 'Zone 5C',
  
  // ZONE 6A - Dhillon Chengappa (5 clubs, 198 members total)
  'Virajpet': 'Zone 6A',
  'Gonikoppal': 'Zone 6A',
  'Madikeri': 'Zone 6A',
  'Misty Hills Madikeri': 'Zone 6A',
  'Madikeri Woods': 'Zone 6A',
  
  // ZONE 6B - (5 clubs, 147 members total)
  'Malleshwara Alur Siddapura': 'Zone 6B',
  'Shanivarsanthe': 'Zone 6B',
  'Hemavathi Kodlipet': 'Zone 6B',
  'Somwarpet Hills': 'Zone 6B',
  'Kushalnagar': 'Zone 6B',
  
  // ZONE 6C - (4 clubs, 160 members total)
  'Krishnarajanagar': 'Zone 6C',
  'Periyapatna Mid Town': 'Zone 6C',
  'Periyapatna Icons': 'Zone 6C',
  'Hunsur': 'Zone 6C',
  
  // ZONE 7A - Harish B (7 clubs, 298 members total)
  'Panchsheel Mysore': 'Zone 7A',
  'Ivory City Mysuru': 'Zone 7A',
  'Krishnaraja': 'Zone 7A',
  'Mysore Main': 'Zone 7A',
  'Mysore Shreegandha': 'Zone 7A',
  'Mysore Metro': 'Zone 7A',
  'Seva Mysore': 'Zone 7A',
  
  // ZONE 7B - (5 clubs, 215 members total)
  'E-Club of Mysuru Center': 'Zone 7B',
  'Mysore Mid-Town': 'Zone 7B',
  'Central Mysore': 'Zone 7B',
  'Mysore Jayaprakash Nagar': 'Zone 7B',
  'Mysore East': 'Zone 7B',
  
  // ZONE 8A - (6 clubs, 258 members total)
  'Mysore Elite': 'Zone 8A',
  'Mysore West': 'Zone 8A',
  'Mysore Royal': 'Zone 8A',
  'Mysore Stars': 'Zone 8A',
  'H.D. Kote': 'Zone 8A',
  'Heritage Mysuru': 'Zone 8A',
  
  // ZONE 8B - (6 clubs, 226 members total)
  'Mysore South East': 'Zone 8B',
  'Mysore Brindavan': 'Zone 8B',
  'Vijayanagar Mysore': 'Zone 8B',
  'Mysuru Diamond': 'Zone 8B',
  'Mysore North': 'Zone 8B',
  'Mysore Ambari': 'Zone 8B',
  
  // ZONE 9A - (3 clubs, 115 members total)
  'Chamarajanagar': 'Zone 9A',
  'Chamarajanagar Silk City': 'Zone 9A',
  'Nanjangud': 'Zone 9A',
  
  // ZONE 9B - (4 clubs, 122 members total)
  'Bannur': 'Zone 9B',
  'Yelanduru Greenway': 'Zone 9B',
  'Kollegal': 'Zone 9B',
  'Kollegal Mid Town': 'Zone 9B'
};

// Club Member Counts (Official Rotary District 3181 Data - November 2025)
const CLUB_MEMBERS = {
  // Zone 1
  'Mulky': 23,
  'Bajpe': 25,
  'Kinnigoli': 44,
  'Moodbidri Mid Town': 20,
  
  // Zone 2A
  'Baikampady': 43,
  'Mangalore Sunrise': 19,
  'Mangalore Central': 67,
  'Mangalore Port Town': 21,
  'Mangalore Coastal': 19,
  
  // Zone 2B
  'Surathkal': 58,
  'Mangalore East': 54,
  'Mangalore North': 63,
  'Mangalore Hill-Side': 43,
  
  // Zone 3A
  'Mangalore Seaside': 23,
  'Mangalore Metro': 42,
  'Mangalore Midtown': 23,
  'Mangalore': 78,
  
  // Zone 3B
  'Mangalore Down Town': 25,
  'Mangalore South': 57,
  'Mangalore City': 31,
  'Deralakatte': 19,
  
  // Zone 4A
  'Modankap': 14,
  'Farangipete': 16,
  'B C Road City': 41,
  
  // Zone 4B
  'Bantwal Town': 41,
  'Belthangady': 71,
  'Bantwal': 83,
  'Madanthyar': 35,
  
  // Zone 4C
  'Moodabidri': 93,
  'Moodbidri Temple Town': 43,
  'Siddakatte Phalguni': 44,
  'Bantwal Loretto Hills': 56,
  
  // Zone 4D
  'Puttur City': 68,
  'Vittal': 30,
  'Uppinangadi': 30,
  
  // Zone 5B
  'Puttur Yuva': 49,
  'Puttur-East': 64,
  'Puttur Swarna': 25,
  'Puttur Elite': 41,
  
  // Zone 5B
  'Puttur': 103,
  'Puttur Central': 34,
  'Subramanya': 38,
  'Kadaba Town': 20,
  
  // Zone 5C
  'Sullia City': 42,
  'Sullia': 84,
  'Bellare Town': 38,
  'Birumale Hills Puttur': 11,
  
  // Zone 6A
  'Virajpet': 27,
  'Gonikoppal': 50,
  'Madikeri': 31,
  'Misty Hills Madikeri': 67,
  'Madikeri Woods': 23,
  
  // Zone 6B
  'Malleshwara Alur Siddapura': 14,
  'Shanivarsanthe': 25,
  'Hemavathi Kodlipet': 20,
  'Somwarpet Hills': 41,
  'Kushalnagar': 47,
  
  // Zone 6C
  'Krishnarajanagar': 30,
  'Periyapatna Mid Town': 54,
  'Periyapatna Icons': 42,
  'Hunsur': 34,
  
  // Zone 7A
  'Panchsheel Mysore': 46,
  'Ivory City Mysuru': 47,
  'Krishnaraja': 14,
  'Mysore Main': 101,
  'Mysore Shreegandha': 20,
  'Mysore Metro': 50,
  
  // Zone 7B
  'E-Club of Mysuru Center': 31,
  'Mysore Mid-Town': 72,
  'Central Mysore': 55,
  'Mysore Jayaprakash Nagar': 27,
  'Mysore East': 30,
  'Seva Mysore': 18,
  
  // Zone 8A
  'Mysore South East': 56,
  'Mysore Brindavan': 29,
  'Vijayanagar Mysore': 21,
  'Mysuru Diamond': 23,
  'Mysore North': 78,
  'Mysore Ambari': 19,
  
  // Zone 8B
  'Mysore Elite': 39,
  'Mysore West': 95,
  'Mysore Royal': 28,
  'Mysore Stars': 13,
  'H.D. Kote': 22,
  'Heritage Mysuru': 61,
  
  // Zone 9A
  'Chamarajanagar': 55,
  'Chamarajanagar Silk City': 30,
  'Nanjangud': 30,
  
  // Zone 9B
  'Bannur': 38,
  'Yelanduru Greenway': 17,
  'Kollegal': 39,
  'Kollegal Mid Town': 28
};

// Special pseudo-club for registrations without an associated Rotary club
// Kept explicitly mapped to 'Unmapped' so scripts can optionally skip or handle separately
ZONE_MAPPING['Guest/No Club'] = 'Unmapped';

// Function to get zone for a club
function getZoneForClub(clubName) {
  if (!clubName) return 'Unmapped';
  
  // Exact match
  if (ZONE_MAPPING[clubName]) {
    return ZONE_MAPPING[clubName];
  }
  
  // Case-insensitive match
  const normalizedClubName = clubName.trim();
  for (const [club, zone] of Object.entries(ZONE_MAPPING)) {
    if (club.toLowerCase() === normalizedClubName.toLowerCase()) {
      return zone;
    }
  }
  
  return 'Unmapped';
}

// Function to get all clubs in a zone
function getClubsInZone(zoneNumber) {
  const zoneName = `Zone ${zoneNumber}`;
  return Object.entries(ZONE_MAPPING)
    .filter(([_, zone]) => zone === zoneName)
    .map(([club, _]) => club);
}

// Function to get all zones
function getAllZones() {
  return [...new Set(Object.values(ZONE_MAPPING))].sort();
}

// Function to get club member count
function getClubMemberCount(clubName) {
  if (!clubName) return 0;
  
  // Exact match
  if (CLUB_MEMBERS[clubName]) {
    return CLUB_MEMBERS[clubName];
  }
  
  // Case-insensitive match
  const lowerClubName = clubName.toLowerCase();
  for (const [key, count] of Object.entries(CLUB_MEMBERS)) {
    if (key.toLowerCase() === lowerClubName) {
      return count;
    }
  }
  
  return 0; // Return 0 if club not found
}

// Function to normalize club name
function normalizeClubName(name) {
  if (!name) return '';
  return name.trim();
}

module.exports = {
  ZONE_MAPPING,
  CLUB_MEMBERS,
  getZoneForClub,
  getClubsInZone,
  getAllZones,
  getClubMemberCount,
  normalizeClubName
};
