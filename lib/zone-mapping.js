// Zone Mapping for Rotary District 3181 Clubs
// Based on Standardized Club List - Updated November 2025
// Includes sub-zones (A, B, C) and club member counts

const ZONE_MAPPING = {
  // ZONE 1
  'Bajpe': 'Zone 1',
  'Kinnigoli': 'Zone 1',
  'Moodbidri Mid Town': 'Zone 1',
  'Mulky': 'Zone 1',

  // ZONE 2A
  'Mangalore Coastal': 'Zone 2A',
  'Mangalore East': 'Zone 2A',
  'Mangalore Hill-Side': 'Zone 2A',
  'Mangalore North': 'Zone 2A',
  'Surathkal': 'Zone 2A',

  // ZONE 2B
  'Baikampady': 'Zone 2B',
  'Mangalore Central': 'Zone 2B',
  'Mangalore Port Town': 'Zone 2B',
  'Mangalore Sunrise': 'Zone 2B',

  // ZONE 3A
  'Deralakatte': 'Zone 3A',
  'Mangalore City': 'Zone 3A',
  'Mangalore Down Town': 'Zone 3A',
  'Mangalore South': 'Zone 3A',

  // ZONE 3B
  'Mangalore': 'Zone 3B',
  'Mangalore Metro': 'Zone 3B',
  'Mangalore Midtown': 'Zone 3B',
  'Mangalore Seaside': 'Zone 3B',

  // ZONE 4A
  'B C Road City': 'Zone 4A',
  'Farangipete': 'Zone 4A',
  'Modankap': 'Zone 4A',

  // ZONE 4B
  'Bantwal': 'Zone 4B',
  'Bantwal Town': 'Zone 4B',
  'Belthangady': 'Zone 4B',
  'Madanthyar': 'Zone 4B',

  // ZONE 4C
  'Bantwal Loretto Hills': 'Zone 4C',
  'Moodabidri': 'Zone 4C',
  'Moodbidri Temple Town': 'Zone 4C',
  'Siddakatte Phalguni': 'Zone 4C',

  // ZONE 4D
  'Puttur City': 'Zone 4D',
  'Uppinangadi': 'Zone 4D',
  'Vittal': 'Zone 4D',

  // ZONE 5A
  'Puttur-East': 'Zone 5A',
  'Puttur Elite': 'Zone 5A',
  'Puttur Swarna': 'Zone 5A',
  'Puttur Yuva': 'Zone 5A',

  // ZONE 5B
  'Kadaba Town': 'Zone 5B',
  'Puttur': 'Zone 5B',
  'Puttur Central': 'Zone 5B',
  'Subramanya': 'Zone 5B',

  // ZONE 5C
  'Bellare Town': 'Zone 5C',
  'Birumale Hills Puttur': 'Zone 5C',
  'Sullia': 'Zone 5C',
  'Sullia City': 'Zone 5C',

  // ZONE 6A
  'Gonikoppal': 'Zone 6A',
  'Madikeri': 'Zone 6A',
  'Madikeri Woods': 'Zone 6A',
  'Misty Hills Madikeri': 'Zone 6A',
  'Virajpet': 'Zone 6A',

  // ZONE 6B
  'Hemavathi Kodlipet': 'Zone 6B',
  'Kushalnagar': 'Zone 6B',
  'Malleshwara Alur Siddapura': 'Zone 6B',
  'Shanivarsanthe': 'Zone 6B',
  'Somwarpet Hills': 'Zone 6B',

  // ZONE 6C
  'Hunsur': 'Zone 6C',
  'Krishnarajanagar': 'Zone 6C',
  'Periyapatna Icons': 'Zone 6C',
  'Periyapatna Mid Town': 'Zone 6C',

  // ZONE 7A
  'Ivory City Mysuru': 'Zone 7A',
  'Krishnaraja': 'Zone 7A',
  'Mysore Main': 'Zone 7A',
  'Mysore Metro': 'Zone 7A',
  'Mysore Shreegandha': 'Zone 7A',
  'Panchsheel Mysore': 'Zone 7A',

  // ZONE 7B
  'Central Mysore': 'Zone 7B',
  'E-Club of Mysuru Center': 'Zone 7B',
  'Mysore East': 'Zone 7B',
  'Mysore Jayaprakash Nagar': 'Zone 7B',
  'Mysore Mid-Town': 'Zone 7B',
  'Seva Mysore': 'Zone 7B',

  // ZONE 8A
  'Mysore Ambari': 'Zone 8A',
  'Mysore Brindavan': 'Zone 8A',
  'Mysore North': 'Zone 8A',
  'Mysore South East': 'Zone 8A',
  'Mysuru Diamond': 'Zone 8A',
  'Vijayanagar Mysore': 'Zone 8A',

  // ZONE 8B
  'H.D. Kote': 'Zone 8B',
  'Heritage Mysuru': 'Zone 8B',
  'Mysore Elite': 'Zone 8B',
  'Mysore Royal': 'Zone 8B',
  'Mysore Stars': 'Zone 8B',
  'Mysore West': 'Zone 8B',

  // ZONE 9A
  'Chamarajanagar': 'Zone 9A',
  'Chamarajanagar Silk City': 'Zone 9A',
  'Nanjangud': 'Zone 9A',

  // ZONE 9B
  'Bannur': 'Zone 9B',
  'Kollegal': 'Zone 9B',
  'Kollegal Mid Town': 'Zone 9B',
  'Yelanduru Greenway': 'Zone 9B',

  // Special
  'Guest/No Club': 'Unmapped'
};

// Club Member Counts
const CLUB_MEMBERS = {
  'Baikampady': 43,
  'Bajpe': 25,
  'Bannur': 38,
  'Bantwal': 83,
  'Bantwal Loretto Hills': 56,
  'Bantwal Town': 41,
  'B C Road City': 41,
  'Bellare Town': 38,
  'Belthangady': 71,
  'Birumale Hills Puttur': 11,
  'Central Mysore': 55,
  'Chamarajanagar': 55,
  'Chamarajanagar Silk City': 30,
  'Deralakatte': 19,
  'E-Club of Mysuru Center': 31,
  'Farangipete': 16,
  'Gonikoppal': 50,
  'H.D. Kote': 22,
  'Hemavathi Kodlipet': 20,
  'Heritage Mysuru': 61,
  'Hunsur': 34,
  'Ivory City Mysuru': 47,
  'Kadaba Town': 20,
  'Kinnigoli': 44,
  'Kollegal': 39,
  'Kollegal Mid Town': 28,
  'Krishnaraja': 14,
  'Krishnarajanagar': 30,
  'Kushalnagar': 47,
  'Madanthyar': 35,
  'Madikeri': 31,
  'Madikeri Woods': 23,
  'Malleshwara Alur Siddapura': 14,
  'Mangalore': 78,
  'Mangalore Central': 67,
  'Mangalore City': 31,
  'Mangalore Coastal': 19,
  'Mangalore Down Town': 25,
  'Mangalore East': 54,
  'Mangalore Hill-Side': 43,
  'Mangalore Metro': 42,
  'Mangalore Midtown': 23,
  'Mangalore North': 63,
  'Mangalore Port Town': 21,
  'Mangalore Seaside': 23,
  'Mangalore South': 57,
  'Mangalore Sunrise': 19,
  'Misty Hills Madikeri': 67,
  'Modankap': 14,
  'Moodabidri': 93,
  'Moodbidri Mid Town': 20,
  'Moodbidri Temple Town': 43,
  'Mulky': 23,
  'Mysore Main': 101,
  'Mysore Ambari': 19,
  'Mysore Brindavan': 29,
  'Mysore East': 30,
  'Mysore Elite': 39,
  'Mysore Jayaprakash Nagar': 27,
  'Mysore Metro': 50,
  'Mysore Mid-Town': 72,
  'Mysore North': 78,
  'Mysore Royal': 28,
  'Mysore Shreegandha': 20,
  'Mysore South East': 56,
  'Mysore Stars': 13,
  'Mysore West': 95,
  'Mysuru Diamond': 23,
  'Nanjangud': 30,
  'Panchsheel Mysore': 46,
  'Periyapatna Icons': 42,
  'Periyapatna Mid Town': 54,
  'Puttur': 103,
  'Puttur Central': 34,
  'Puttur City': 68,
  'Puttur-East': 64,
  'Puttur Elite': 41,
  'Puttur Swarna': 25,
  'Puttur Yuva': 49,
  'Seva Mysore': 18,
  'Shanivarsanthe': 25,
  'Siddakatte Phalguni': 44,
  'Somwarpet Hills': 41,
  'Subramanya': 38,
  'Sullia': 84,
  'Sullia City': 42,
  'Surathkal': 58,
  'Uppinangadi': 30,
  'Vijayanagar Mysore': 21,
  'Virajpet': 27,
  'Vittal': 30,
  'Yelanduru Greenway': 17,
};

// Alias Mapping (Old Name -> Standard Name)
const CLUB_NAME_MAPPING = {
  'Mysore': 'Mysore Main',
  'Hunsur, Hunsur': 'Hunsur',
  'Mangalore Hillside': 'Mangalore Hill-Side',
  'Mangalore Downtown': 'Mangalore Down Town',
  'Mangalore Sea Side': 'Mangalore Seaside',
  'Mangalore Mid-Town': 'Mangalore Midtown',
  'BC Road City': 'B C Road City',
  'Puttur East': 'Puttur-East',
  'Virajpete': 'Virajpet',
  'Periyapatna Midtown': 'Periyapatna Mid Town',
  'Panchsheel': 'Panchsheel Mysore',
  'E Club Mysure Center': 'E-Club of Mysuru Center',
  'Mysore Midtown': 'Mysore Mid-Town',
  'Vijaynagar Mysore': 'Vijayanagar Mysore',
  'Mysore Diamonds': 'Mysuru Diamond',
  'HD Kote': 'H.D. Kote',
  'Kollegal Midtown': 'Kollegal Mid Town',
  'Guest/No Club': 'Unmapped'
};

// Function to normalize club name
function normalizeClubName(clubName) {
  if (!clubName) return 'Unmapped';

  // Check direct alias mapping
  if (CLUB_NAME_MAPPING[clubName]) {
    return CLUB_NAME_MAPPING[clubName];
  }

  // Check if it's already a valid standard name
  if (ZONE_MAPPING[clubName]) {
    return clubName;
  }

  // Case-insensitive check for alias
  const lowerName = clubName.toLowerCase().trim();
  for (const [alias, standard] of Object.entries(CLUB_NAME_MAPPING)) {
    if (alias.toLowerCase() === lowerName) {
      return standard;
    }
  }

  // Case-insensitive check for standard name
  for (const standard of Object.keys(ZONE_MAPPING)) {
    if (standard.toLowerCase() === lowerName) {
      return standard;
    }
  }

  return clubName; // Return original if no match found (likely Unmapped or new)
}

// Function to get zone for a club
function getZoneForClub(clubName) {
  if (!clubName) return 'Unmapped';

  // Normalize the name first
  const normalized = normalizeClubName(clubName);

  // Exact match on normalized name
  if (ZONE_MAPPING[normalized]) {
    return ZONE_MAPPING[normalized];
  }

  return 'Unmapped';
}

// Function to get all clubs in a zone
function getClubsInZone(zoneNumber) {
  const zoneName = `Zone ${zoneNumber}`;
  return Object.entries(ZONE_MAPPING)
    .filter(([_, zone]) => zone === zoneName)
    .map(([club, _]) => club);
}

// Function to get all zones
function getAllZones() {
  return [...new Set(Object.values(ZONE_MAPPING))].sort();
}

// Function to get club member count
function getClubMemberCount(clubName) {
  if (!clubName) return 0;

  // Exact match
  if (CLUB_MEMBERS[clubName]) {
    return CLUB_MEMBERS[clubName];
  }

  // Case-insensitive match
  const lowerClubName = clubName.toLowerCase();
  for (const [key, count] of Object.entries(CLUB_MEMBERS)) {
    if (key.toLowerCase() === lowerClubName) {
      return count;
    }
  }

  return 0; // Return 0 if club not found
}

module.exports = {
  ZONE_MAPPING,
  CLUB_MEMBERS,
  getZoneForClub,
  getClubsInZone,
  getAllZones,
  getClubMemberCount,
  normalizeClubName
};
